/*
 * $Id$
 */

/* Read doc/howtosvn.txt and use this format for entry headers:
   YYYY-MM-DD HH:MM UTC[-|+]hhmm Your Full Name (your_email address)
   2010-12-31 13:59 UTC+0100 Foo Bar (foo.bar foobar.org)

   This work is licensed under the Creative Commons Attribution-ShareAlike
   License. To view a copy of this license, visit
   http://creativecommons.org/licenses/by-sa/3.0/ or send a letter to
   Creative Commons, 559 Nathan Abbott Way, Stanford, California 94305,
   USA.  A summary of the license and the full legal text is included
   in file: COPYING.  If you wish to distribute some or all of this work
   under different terms, please contact respective author(s).
   The license applies to all entries newer than 2009-04-28.
*/

2012-10-25 14:12 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbqt/tests/cls_dbstruct.prg
  * hbqt/tests/dbstruct.prg
    % Changed: class name symbolizing the .ui manipulation in HbIDE interface
       from ui_* to uie_*. This was documented in ChangeLog but I forget 
       to update the demo project files.

2012-10-24 16:27 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbide/hbide_v.ch
    * Usual: last commit info.

  * hbide/requests.ch
    + Added: missing codepages from prev commit.

2012-10-24 15:12 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbide/hbide_v.ch
    * Usual: last commit info.

  + hbide/requests.ch
    + Added: header to REQUEST all codepages Harbour supports.
       Just in case...

  * hbide/actions.prg
  * hbide/docks.prg
  * hbide/editor.prg
  * hbide/main.prg
  * hbide/misc.prg
  * hbide/saveload.prg
  * hbide/sources.prg
    + Added: <Main Menu><Encoding> option.
       It displays the codepages in this notation: 
         Harbour Codepage Name : Unique Codepage ID => "RU866 : cp866"

    + Implemented: per source Harbour supported codepage.
       Now you can write sources supporting different code pages for 
       strings inside source text. Each edit instance can have its own 
       codepage which can be selected from <Encoding> main-menu option.
       HbIDE remembers codepage associated with a source. When selecting 
       a codepage from <Encoding> option, you will be prompted to set 
       it as "default". The <Default> codepage will be applied to any 
       new source brought to HbIDE for editing. 

    ; IMPORTANT : Please read
       1. Setup this current commit or release.
       2. DO NOT execute HbIDE.
       3. Open hbide.ini you are supplying to execute HbIDE.
       4. Change: CurrentCodec=_HarbourCodePageName_ => 
                  CurrentCodec=EN
       5. Execute HbIDE.
       6. Notice the statusbar of HbIDE where codepage entry should be 
            visible as "Enc: EN | EN".
       7. First part denotes codepage of this source, second part 
            default codepage.
       8. If you need to change the codepage of a source, make sure that 
            it has not been modified before the change, initiate change 
            from <Encoding> option, close HbIDE, do not save the source 
            when prompted, run HbIDE again. This action can be taken for 
            multiple source instances. Just REMEMBER that you have not 
            to save the source after changing the codepage.

    ; THANKS : Special thanks to Grzegorz and Maurizio for helping me 
               understand what is happening under the hood.

      Please make extensive tests. Regression is possible.
 
2012-10-24 14:31 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  + Applied patch by Francesco Perillo (as explained below), thank you.

  * qtcontribs.hbp 
    ! all not-essential Qt modules are remmed by default. 
      You need to remove the remark if you want them to be compiled. 
      Too much problems reported for aborted builds. In the future we may 
      add checks and skip modules missing include files, for the moment it 
      will be programmers responsability to un-rem them
    + added -hbcontainer so that the error line about nm is not shown

  * hbide/hbide.hbp
    ! added instpath to current harbour BIN path. This means that hbide 
      will be copied in the same directory where harbour executable is ! 
      This will work both for simple "make" and for "make install"
    ! modified output dir that is anyway replaced by instpath directive

  * hbxbp/hbxbp.hbp
    + added $hb_pkg_install.hbm
    ! changed path for lib creation

  * hbxbp/hbxbp.hbc
    + added libpaths directive. This adds a new lib directory so the linker 
      can find the files created in the path set in hbxbp.hbp file

  * hbqt/hbqt_common.hbm
    ! changed lib target directory
    + copied $hb_pkg_install.hbm content and modified to fit hbQt build method. 
      the standard hbm file uses lib name to create a subdir where to store its 
      files during install. This is ok for simple libraries like hbxbp, 
      where only one lib is created, while it is a problem for hbQT where several 
      libraries are created... otherwise we would get addons/hbqtcore addons/hbqtgui. 
      no way....  So the changes was just to set hbqt as target directory, 
      all the rest unmodified...

  * hbqt/hbqt.hbc
    + added libpaths directive. This adds a new lib directory so the linker 
      can find the files created in the path set in hbqt_common.hbm file

2012-10-14 13:05 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbide/hbide_v.ch
    * Usual: last commit info.

  * hbide/actions.prg
    ! Fixed: "New" icon on the toolbar was not working due to spells.

  * hbide/sources.prg
    ! Fixed: adding a source through "New" menu or toolbar option was 
       asking for the file location twice.

  * hbxbp/filedialog.prg
    ! Changed: XbpFileDialog():saveAs() consuming QFileDialog's 
        static function instead of old-fashioned dialog. 
        This fixes the issue where default file name was not populated 
        in the filename field.

2012-10-14 00:35 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbide/hbide_v.ch
    * Usual: last commit info.

  * hbxbp/browse.prg
  * hbxbp/dbu.prg
    ! Fixed: nasty visual artifacts in XbpBrowser() where columns were 
       not displayed in synchronization with navigation and viewport
       coordinates. Also vertical navigation with page-up/down was 
       behaving erratic sometimes. Please review me.    

2012-10-13 18:47 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbide/hbide_v.ch
    * Usual: last commit info.

  * hbide/actions.prg
  * hbide/main.prg
    ! Fixed: firing of "Launch Project" action twice.

2012-10-13 14:39 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * Added: SVN Properties.
     Please report if any file is having different than required properties.

2012-10-13 14:07 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbxbp/dbu.prg
    ! Fixed: a nasty bug that was crashing IdeDBU.

2012-10-13 13:02 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbxbp/browse.prg
  * hbxbp/generic.prg
    ! Fixed: Same value XBP constants clubbed in one SWITCH statement.

2012-10-13 09:51 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbide/hbide_v.ch
    * Reflects: r30 - the one last.

2012-10-13 09:39 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbxbp/hbxbp.hbx
    * Leftover from prev commit.

2012-10-13 09:26 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  - hbide/xbpaddons
    - Moved: to hbxbp where these belongs.
  * hbide/hbide.hbp
    - Removed: entries specific to xbpaddons lib.
  * hbide/hbide_v.ch
    * Auto generated.
  * hbide/projmanager.prg
    * Minor.
    
  + hbxbp/resources
    + All *.png resources.
  + hbxbp/dbu.prg
  + hbxbp/hbpdbstruct.ui
  + hbxbp/hbpfetchdate.ui
  + hbxbp/hbptables.ui
  + hbxbp/misc.prg
  + hbxbp/reports.prg
  + hbxbp/xbp.qrc
  
  * hbxbp/hbxbp.hbp
    + Added: moved files from hbide/xbpaddons.

2012-10-08 14:09 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  + hbide/hbide_v.ch
    + Readded: the header containing latest revision number.
       This is done because otherwise HbIDE cannot be built by a 
       user who has not properly set QtContribs build environment,
       which, along other things, require subversion client installed
       on his machine. Mostly it will never be required for average user 
       but just in case...

       NOTE: this will always publish one revision less than the current 
             in HbIDE title-bar.

2012-10-08 12:38 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbide/edit.prg
  + hbide/qtcore.txt
  + hbide/qtgui.txt
  + hbide/qtnetwork.txt
    + Added: not-on-qt-sources dependent functions list of HbQt modules.
       Has been a constant source of building HbIDE on folders which 
       are not in synch with HbQt folder locations. 

2012-10-08 07:36 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbide/dict.prg
  * hbide/main.prg
  * hbide/saveload.prg
    % Fixed: regression about duplicated CASE constants in SWITCH statement.

2012-10-08 01:24 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbxbp/generic.prg
    % Changed: one SWICH statement to DO CASE because Xbase++ defines 
      two alignment constants to "0" until I resolve this issue.

2012-10-07 17:01 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbxbp/appevent.prg
    ! Fix to prev fix.

2012-10-07 16:59 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbxbp/appevent.prg
    ! Fixed: commented-out duplicate key values generated by Xbase++
       for some xbeK_CTRL_* contstants.

2012-10-07 16:06 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbxbp/xbp.ch
    ! Fixed: some wrong constants.
       Thanks Przemek for introducing duplicate case constants compile 
       time check which could detect these type of error, something 
       rare to debug otherwise.

2012-10-07 15:34 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbqt/hbmk2_qt.hb
    % Changed: the version guard agaisnt which a class is compiled.
       Earlier every class was guarded against v4.5.
       Now class is guarded against minimum of v4.5 or defined for 
       a class in .qth in CLASS section. 
         <CLASS> 
         ...
         Version = 0x040n00 
         </CLASS>
 
       This empowers HbQt engine to add any class comes with new version 
       of Qt.

2012-10-07 12:22 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbqt/qtopengl/qth/QGLFramebufferObjectFormat.qth
    % Versionized: mipmap() and setMipmap() methods under [*V=0x040800*]

2012-10-06 02:23 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * qtcontribs.hbp
    + Added: SVN properties.
       May be absense of these was responsible to behave erratically on Linux.

2012-10-05 17:37 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbide/main.prg
    + Enabled: Codepage UTF-8 by default. 

  * hbqt/qtgui/hbqt_init.cpp
    ! Fixed: a nasty implementation belonging to UTF-8 codepage.
       "UTF8" => "UTF-8" 
       This caused unnecessary noise in the past.

2012-10-05 16:32 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbide/hbide.hbp
    - Deleted: -vcshead=hbide_v.ch

  * qtcontribs.hbp
    + Added: -vcshead=hbide/hbide_v.ch

2012-10-05 14:35 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  - hbide/hbide_v.ch
    - Deleted: header to fetch SVN revision no. 

  * hbide/hbide.hbp
    + Added: -vcshead=hbide_v.ch
       This generates the hbide_v.ch at build time and is included in 
       main.prg and misc.prg.
    ; TODO: one common function to pull this info than at two places.

2012-10-05 12:09 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbide/hbide_v.ch
    * Version change: always to last than current one. How to do ???

  * hbqt/qtcore/hbqt_bind.cpp
    ! Optimizations: in new protocol.

  * hbqt/tests/qtrevamp.prg
    5 Changed: Statics to locals.

2012-10-04 17:22 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbqt/qtcore/hbqt_bind.cpp
    + Added: hbqt_bindAddConnected(), hbqt_bindDelConnected() functions.

  * hbqt/qtcore/hbqt_misc.prg
    + Added: class HbQtConnecteds().

    IMPLEMENTED: the objects having any signal connected to remain alive 
                 irrespective of the Harbour variable scope. Uptil now 
                 a :connect() to be functional, the variable holding the 
                 object had to remain in scope till the life of that 
                 connect's life-span. Now it is not needed. Below is 
                 the example ( hbqt/tests/qtrevamp.prg : snippet ):

                 STATIC FUNCTION BuildMenuBar( oWnd )
                    LOCAL oMenu1, oMenuBar
                 
                    STATIC oItemIns, oItemMod       /*****  STATICS ******/
                 
                    oMenuBar := QMenuBar( oWnd )
                 
                    oMenu1 := QMenu( oMenuBar )
                    //
                    oMenu1:setTitle( "&Options" )
                 
                    IF empty( oItemIns )
                       oItemIns := QAction( oWnd )
                       oItemIns:setText( "&MessageBox()" )
                       oItemIns:connect( "triggered()", {|| DlgMBox( "Yes" ) } )
                    ENDIF
                 
                    IF empty( oItemMod )
                       oItemMod := QAction( oWnd )
                       oItemMod:setText( "&ContextMenu()" )
                       oItemMod:connect( "triggered()", {|| ContextMenu( oWnd ) } )
                    ENDIF
                 
                    oMenu1:addAction( oItemIns )
                    oMenu1:addAction( oItemMod )
                 
                    oMenuBar:addMenu( oMenu1 )
                 
                    oWnd:setMenuBar( oMenuBar )
                 
                    RETURN NIL
    

               =>


                 STATIC FUNCTION BuildMenuBar( oWnd )
                    LOCAL oMenu1, oMenuBar
                 
                    LOCAL oItemIns, oItemMod         /***** LOCALS *****/
                 
                    oMenuBar := QMenuBar( oWnd )
                 
                    oMenu1 := QMenu( oMenuBar )
                    //
                    oMenu1:setTitle( "&Options" )
                 
                    IF empty( oItemIns )
                       oItemIns := QAction( oWnd )
                       oItemIns:setText( "&MessageBox()" )
                       oItemIns:connect( "triggered()", {|| DlgMBox( "Yes" ) } )
                    ENDIF
                 
                    IF empty( oItemMod )
                       oItemMod := QAction( oWnd )
                       oItemMod:setText( "&ContextMenu()" )
                       oItemMod:connect( "triggered()", {|| ContextMenu( oWnd ) } )
                    ENDIF
                 
                    oMenu1:addAction( oItemIns )
                    oMenu1:addAction( oItemMod )
                 
                    oMenuBar:addMenu( oMenu1 )
                 
                    oWnd:setMenuBar( oMenuBar )
                 
                    RETURN NIL



   ; WARNING:    The code using WITH OBJECT (xhb) implementation must declare a 
                 seperate variable for each object. For example:


                 FUNCTION ShowForm()
                    LOCAL oQtWin, oQtCent, oQtBtn
                    
                    WITH OBJECT oQtWin := QMainWindow()
                       :setObjectName( "MainWin" )
                       :resize( 600, 600 )
                       :setWindowTitle( "Testing" )
                 
                       WITH OBJECT oQtCent := QWidget( hb_QWith() )
                          :setObjectName( "centralWidget" )
                 
                          WITH OBJECT oQtBtn := QPushButton( hb_QWith() )
                             :setObjectName( "btn1" )
                             :resize( 100, 25 )
                             :move( 10, 10 )
                             :setText( "Premi qui" )
                             :connect( "clicked()", { || Qclicked() } )
                          END WITH
                 
                          WITH OBJECT oQtBtn := QPushButton( hb_QWith() )
                             :setObjectName( "btn2" )
                             :resize( 100, 25 )
                             :move( 10, 50 )
                             :setText( "Premi li" )
                             :connect( "clicked()", { || Qclicked1() } )
                          END WITH
                 
                       END WITH
                 
                       :setCentralWidget( oQtCent )
                    END WITH
                 
                    oQtWin:Show()
                 
                    RETURN oQtWin


               =>   


                 FUNCTION ShowForm()
                    LOCAL oQtWin, oQtCent, oQtBtn, oQtBtn_1
                    
                    WITH OBJECT oQtWin := QMainWindow()
                       :setObjectName( "MainWin" )
                       :resize( 600, 600 )
                       :setWindowTitle( "Testing" )
                 
                       WITH OBJECT oQtCent := QWidget( hb_QWith() )
                          :setObjectName( "centralWidget" )
                 
                          WITH OBJECT oQtBtn := QPushButton( hb_QWith() ) 
                             :setObjectName( "btn1" )
                             :resize( 100, 25 )
                             :move( 10, 10 )
                             :setText( "Premi qui" )
                             :connect( "clicked()", { || Qclicked() } )
                          END WITH
                 
                          WITH OBJECT oQtBtn_1 := QPushButton( hb_QWith() )
                             :setObjectName( "btn2" )
                             :resize( 100, 25 )
                             :move( 10, 50 )
                             :setText( "Premi li" )
                             :connect( "clicked()", { || Qclicked1() } )
                          END WITH
                 
                       END WITH
                 
                       :setCentralWidget( oQtCent )
                    END WITH
                 
                    oQtWin:Show()
                 
                    RETURN oQtWin

2012-10-04 00:45 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * ChangeLog
    + Added: SVN properties.

2012-10-04 00:41 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  + hbide/managetoolbox.ui
    + Work-in-progress.

  + hbide/hbide_v.ch
    + Added: header created with hbmk2 -vcshead= option to change HbIDE
       revision number displayed on the title bar and about dialog.

  * hbide/main.prg
  * hbide/misc.prg
    % Changed: revision no on titlebar and about dialog.
    
  + hbqt/qtdesigner/hbqtdesigner.ch
  + hbqt/qtnetwork/hbqtnetwork.ch
    + Added: dummy headers to be uniform with all libs.

  * qtcontribs.hbp
    + Added: qtwebkit library and commented out.

2012-10-01 17:01 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbaddons.hbp
  * qtcontribs.hbp
    % Renamed: hbaddons => qtcontribs as per discussion with Viktor.
       We all supported his viewpoint.

2012-09-30 09:50 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbqt/qtsql/qth/QSqlQuery.qth
    ! Fixed: error where build was failing, a regression.

2012-09-29 22:18 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbxbp/dialog.prg
  * hbxbp/menubar.prg
  * hbxbp/tabpage.prg
  * hbxbp/toolbar.prg
    % Modifications to construct widgets with proper parenting.
       This may result in better protol to free objects from 
       GC point of view.

2012-09-29 21:58 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbide/hbide.qrc
  * hbide/resources/designer.png
  + hbide/resources/dockingwidgets.png
  + hbide/resources/ideparts.png
  + hbide/resources/menu.png
  + hbide/resources/selectproject.png
  + hbide/resources/toolbars.png
    + Added: new images to enrich menu options.

  * hbide/xbpaddons/dbu.prg
  * hbide/xbpaddons/reports.prg
    ! Minor.

  * hbide/actions.prg
  * hbide/console.prg
  * hbide/docks.prg
  * hbide/docwriter.prg
  * hbide/edit.prg
  * hbide/editor.prg
  * hbide/findreplace.prg
  * hbide/hbqtoolbar.prg
  * hbide/main.prg
  * hbide/misc.prg
  * hbide/parts.prg
  * hbide/saveload.prg
  * hbide/shortcuts.prg
  * hbide/themes.prg
  * hbide/uisrcmanager.prg
    % Optimizations.
    + Implemented: concept of manageable tool-box containing almost 
       entire set of actions spread across menus and toolbars. This 
       tiny toolbox can be called with Ctrl+M and appears right near 
       the editing cursor position. The interface to manage this toolbox
       is underway, which beside other things, will facilitate to 
       configure it visually as to which icons, at what position:row-col,
       should appear. The goal is to allow users to hide all toolbars from 
       applications window and call this toolbox whenever there is a need.
       A work-in-progress. But the toolbox is functional with Ctrl+M.

  * hbide/projectwizard.prg
  * hbide/projmanager.prg
    + Advanced: "New Project Wizard".

2012-09-29 19:15 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbide/docviewgenerator.ui
    % Refined: the working of slider of tree and view widgets, reported 
      on users-list. The tree pane area was unable to be expanded on 
      the right and hence functions list contents were not visible 
      properly.

2012-09-29 19:10 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbqt/qtcore/hbqt_bind.cpp
    % Optimization leading to proper object destruction on Qt level,
       in certain cases. This optimization has no visible impact, but 
       certainly improves memory consumption in applications which 
       have high rate of creation/destruction cycles.

2012-09-29 16:43 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbqt/qtgui/qth/QBoxLayout.qth
  * hbqt/qtgui/qth/QGridLayout.qth
  * hbqt/qtgui/qth/QLayout.qth
  * hbqt/qtgui/qth/QStandardItemModel.qth
    ! Fixed: the GPF og HbIDE on EXIT on MSVC and *nix systems discovered 
       by Przemek. On MSVC it is fixed, and nixes, I hope should have been 
       fixed too. Can someone confirm ?

2012-09-29 16:31 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * hbaddons.hbp
    + Added: all Qt based libraries, but kept commented. Please uncomment one 
       required by you.

2012-09-29 15:39 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  + Initial commit in decided repo after all commits below in a temp repo 
    to make the code compilable and workable.

2012-09-29 12:55 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  * ChangeLog
  * hbaddons.hbp
    + Added: missing SVN properties markers.

2012-09-29 12:25 UTC-0800 Pritpal Bedi (bedipritpal at hotmail.com)
  + SVN Properties.

2012-09-29 19:30 UTC+0100 Maurizio la Cecilia (m.lacecilia at gmail.com)
  + hbaddons.hbp
    + added .hbp for to make it easy to build in a shot with hbmk2
  * hbide/hbide.hbp
  * hbide/xbpaddons/xbpaddons.hbp
  * hbnetioqt/hbnetioq.hbp
  * hbqt/hbqt_common.hbm
  * hbxbp/hbxbp.hbp
    * changed the path to output the built libs/exes
  * hbide/xbpaddons/dbu.prg
    * correct the references of renamed ui files in Harbour rev. 18121

2012-09-29 17:30 UTC+0100 Maurizio la Cecilia (m.lacecilia at gmail.com)
  + Initial Commit.